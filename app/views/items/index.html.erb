

<table>
  <thead>
    <tr>
      <th>Items Name</th>
      <th>Shopping cart</th>
    </tr>
  </thead>

  <tbody>
    <% @items.each do |item|%>
        <tr>
            <td><%= item.name%></td>
            <td><%= link_to 'Show', item_path(:id => item.id) %></td>
            
            <% if @cart.include?(item) %>
              <td><%= button_to "Remove from cart", remove_from_cart_path(item), method: :delete%></td>
            <% else %>  
              <td><%= button_to "Add to cart", add_to_cart_path(item)%></td>
            <% end %> 

            <% if current_user.admin %>
              <td><%= item.status%></td>
              <td><%= link_to 'Edit', edit_item_path(item) %> |
              <%= link_to 'Delete', item_path(:id => item.id), method: :delete, data: {confirm: "Are you sure?"} %></td>
            <% end %>
        </tr>
    <%end%>
  </tbody>
</table>
<p>
<% if current_user.admin %>
  <%= link_to 'Create new item', new_item_path %>
<% end %>
</p>